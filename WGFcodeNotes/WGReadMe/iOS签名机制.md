## iOS签名机制
#### iOS签名机制学习路线
1. 加密解密: 对称密码(DES、3DES、ARS)  公钥加密(RSA)
2. 单向散列函数: MD4、MD5、SHA-1、SHA-2、SHA-3
3. 数字签名
4. 证书
5. iOS签名机制

#### 1.  加密解密.根据密钥的使用方法,可以将密码分为2种: 对称密码、公钥密码(非对称密码)
#### 1.1 对称密码: 加密、解密时使用的是同一个密钥,常用的对称密码算法有DES、3DES、AES
#### DES(Data Encryption Standard)加密: 是一种将64bit明文加密成64bit密文的对称密码算法,密钥长度是56bit,规格上来说,密钥长度是64bit,但每隔7bit会设置一个用于错误检查的bit,因此密钥长度实质上是56bit
                           密钥56比特(56位)
                                 |
      加密:明文64比特(64位)----->DES加密----->密文64比特(64位)


                           密钥56比特(56位)
                                |
      解密:密文64比特(64位)----->DES解密----->明文64比特(64位)
#### 由于DES每次只能加密64bit的数据,遇到比较大的数据,需要对DES加密进行迭代(反复); 目前已经可以在短时间内被破解,所以不建议使用

#### 3DES加密: 将DES重复3次所得到的一种密码算法,也叫做3重DES; 目前还被一些银行等机构使用,但处理速度不高,安全性逐渐暴露出问题

                 DES密钥1     DES密钥2     DES密钥3
                    |           |           |
    加密:明文----->DES加密----->DES解密----->DES加密----->密文


                 DES密钥1     DES密钥2     DES密钥3
                    |           |           |
    解密:密文----->DES解密----->DES加密----->DES解密----->明文
#### 如果所有密钥都是相同的,则结果和普通的DES是等价的
#### AES加密(Advanced Encryption Standard): 取代DES成为新标准的一种对成加密算法,目前AES已经逐步取代DES、3DES,成为首选的对成密码算法; 我们都使用同一套AES加密算法,为什么能够安全? 因为虽然加密算法都一样但是密钥是不同的

#### 1.2 密钥配送问题
#### 在使用对成密码时,一定会遇到密钥配送问题,因为在发送密钥给对方时,密钥可能会被窃取, 如何解决密钥配送的问题,有以下几种方式, 最常用的还时公钥密码方式
1. 事先共享密钥
2. 密钥分配中心
3. Diffie-Hellman密钥交换
4. 公钥密码


#### 1.3 公钥密码(非对称密码)
#### 公钥密码种,密钥分为加密密钥、解密密钥2种,它们并不是同一个密钥;公钥密码也被称为非对称密码;加密密钥一般是公开的,因此该密钥称为公钥;解密密钥,由消息接收者自己保管,不能公开的,称为私钥; 公钥和私钥匙一一对应的,不能单独生成,一对公钥和私钥统称为密钥对;

#### 1.3.1 解决密钥配送问题
1. 由消息的接收者,生成一对公钥匙、私钥
2. 将公钥发送给消息的发送者
3. 消息的发送者使用公钥加密消息

        A发消息给B
         发送者                 接收者
           A      ------>       B(生成一对公私钥)
                B将公钥交给A
                  <------    
        明文+公钥   ------>      密文(利用私钥对密文进行解密)   
#### 即使公钥被窃取了,也没问题的的,因为只有拥有私钥才能解密文,这样就解决了密钥配送的问题,现在通常用到的公钥密码是RSA加密算法.

#### 1.4 混合密码系统
1. 对称密码缺点:是不能很好的解决密钥配送问题;优点是: 加密解密速度快
2. 公钥密码缺点:加密解密速度比较慢(相对于对称密码来说); 优点是: 解决密钥配送问题
3. 混合密码系统: 将对称密码和公钥密码的优势相结合的方法; 解决了公钥密码速度慢的问题; 并通过公钥密码解决了对称密码的密钥配送问题, 网络上的密码通信所用的SSL/TLS(HTTPS)都运用了混合密码系统
#### 1.4.1 混合密码-加密过程
     发送者                    接收者
       A      ------>     B  (生成一对公私钥M/m)
            B将公钥M交给A
              <------    
    1.发送者A利用伪随机数生成器生成一个随机数(会话密钥n),这个随机数作为后续消息传递过程中对称加密的密钥
    2.发送者利用公钥M对会话密钥n进行加密发送给  ------> 接收者B(接收者收到密文后,利用私钥m对密文进行解密,得到对称加密的密钥n)
    3.消息明文+密钥n=密文发送给   ------>    接收者B(利用密钥n对密文进行解密得到明文)     

#### 2. 单向散列函数(One-way hash function)
#### 2.1 单向散列函数,可以根据消息的内容计算出散列值;散列值的长度和消息的长度是无关的,无论消息是1bit、10M、100G,单向散列函数都会计算出固定长度的散列值; 单向散列函数又被称为消息摘要函数/哈希函数;输出的散列值,也被称为消息摘要、指纹

#### 2.2 单向散列函数特点
1. 根据任意长度的消息,计算出固定长度的散列值
2. 计算速度快,能快速计算出散列值
3. 消息不同,散列值也不同
4. 具备单向性, 拿到散列值是无法推测出消息内容的
5. 单向散列函数,又

#### 2.3 常见的几种单向散列函数有
1. MD4、MD5: 生成128bit的散列值,MD就是Message Digest的缩写,目前已经不安全了;Mac终端上默认是可以使用md5命令的,例如在桌面创建1.txt文件,然后使用命令md5 1.txt,即可得出1.txt文档中内容的散列值
2. SHA-1: 产生160bit的散列值,目前已经不安全了
3. SHA-2: SHA-256、SHA-384、SHA-512,散列值长队分别是256bit、384bit、512bit, 散列值长度越长越安全
4. SHA-3: 目前仍在研发中

#### 2.4 单向散列函数的作用
1. 防止数据被篡改: 如果数据被篡改了,那么它的散列值就会不一样,这样就能判断数据是否被篡改,也可用于判断软件是否是正版
2. 口令加密: 比如登录页面,用户输入完账号和密码后,密码不可能直接存储到服务器上(若数据库被攻击那么所有用户的密码都会泄露)而是将密码的散列值存储在服务器,下次登录时,来和服务器上的密码的散列值和现在输入密码的散列值相等,则登录成功

#### 3. 数字签名
#### 场景: 张三发消息(你来吧)给李四, 但是张三发的消息可能被篡改;或者有人伪装成张三发消息;或者说就是张三发的消息,但他可以否认是他发的; 那么李四如何确认这段消息的真实性? 如何识别篡改、伪装、否认?

